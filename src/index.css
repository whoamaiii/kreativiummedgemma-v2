@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    /* Dark purple glassmorphism theme */
    --background: 248 15% 7%;
    --foreground: 240 12% 94%;

    --card: 247 15% 12%;
    --card-foreground: 240 12% 94%;

    --popover: 247 15% 12%;
    --popover-foreground: 240 12% 94%;

    /* Purple primary for modern look */
    --primary: 258 78% 70%;
    --primary-foreground: 0 0% 100%;
    --primary-soft: 258 30% 90%;

    /* Dark secondary */
    --secondary: 247 15% 17%;
    --secondary-foreground: 240 12% 75%;

    /* Muted dark tones */
    --muted: 247 15% 17%;
    --muted-foreground: 240 8% 63%;

    /* Purple accent */
    --accent: 258 78% 70%;
    --accent-foreground: 240 12% 94%;

    /* Destructive */
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 98%;

    /* Semantic feedback colors */
    --success: 142 71% 45%;
    --success-foreground: 0 0% 98%;
    --warning: 38 92% 50%;
    --warning-foreground: 24 10% 10%;
    --info: 217 91% 60%;
    --info-foreground: 0 0% 98%;

    /* Glassmorphism borders */
    --border: 258 78% 70% / 0.2;
    --input: 247 15% 17%;
    --ring: 258 78% 70%;

    /* Larger radius for modern look */
    --radius: 1rem;

    /* Emotion colors for tracking */
    --emotion-happy: 90 70% 65%;
    --emotion-sad: 220 45% 65%;
    --emotion-angry: 10 70% 65%;
    --emotion-calm: 180 45% 75%;
    --emotion-anxious: 40 65% 70%;
    --emotion-excited: 280 55% 70%;

    /* Sensory colors */
    --sensory-visual: 240 60% 70%;
    --sensory-auditory: 300 50% 70%;
    --sensory-tactile: 120 50% 70%;
    --sensory-vestibular: 60 60% 70%;
    --sensory-proprioceptive: 180 55% 70%;

    /* Glassmorphism gradients */
    --gradient-primary: linear-gradient(90deg, hsl(var(--primary)) 0%, hsl(270 78% 65%) 100%);
    --gradient-calm: linear-gradient(135deg, hsl(var(--accent)), hsl(var(--primary-soft)));
    --gradient-card: rgba(31, 28, 43, 0.7);
    --gradient-glass: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
    --gradient-subtle: linear-gradient(180deg, hsl(var(--background)) 0%, hsl(var(--muted)) 100%);

    /* Glassmorphism shadows */
    --shadow-soft: 0 4px 15px rgba(159, 122, 234, 0.2);
    --shadow-medium: 0 8px 25px rgba(159, 122, 234, 0.4);
    --shadow-glow: 0 20px 40px rgba(0,0,0,0.3);
    --shadow-elevation: 0 16px 40px rgba(0, 0, 0, 0.12);
    --shadow-focus: 0 0 0 2px hsl(var(--ring) / 0.3);

    /* Smooth transitions */
    --transition-smooth: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    --transition-bounce: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);

    --sidebar-background: 0 0% 98%;

    --sidebar-foreground: 240 5.3% 26.1%;

    --sidebar-primary: 240 5.9% 10%;

    --sidebar-primary-foreground: 0 0% 98%;

    --sidebar-accent: 240 4.8% 95.9%;

    --sidebar-accent-foreground: 240 5.9% 10%;

    --sidebar-border: 220 13% 91%;

    --sidebar-ring: 217.2 91.2% 59.8%;
  }

  .dark {
    /* Dark mode is our base theme now */
  }
}

@layer utilities {
  .bg-gradient-card {
    background: var(--gradient-card);
  }
  
  .bg-gradient-primary {
    background: var(--gradient-primary);
  }
  
  .bg-gradient-calm {
    background: var(--gradient-calm);
  }
  
  .bg-gradient-glass {
    background: var(--gradient-glass);
  }
  
  .bg-gradient-subtle {
    background: var(--gradient-subtle);
  }
  
  .shadow-soft {
    box-shadow: var(--shadow-soft);
  }
  
  .shadow-medium {
    box-shadow: var(--shadow-medium);
  }
  
  .shadow-glow {
    box-shadow: var(--shadow-glow);
  }
  
  .shadow-elevation {
    box-shadow: var(--shadow-elevation);
  }
  
  .shadow-focus {
    box-shadow: var(--shadow-focus);
  }
  
  /* Glassmorphism and animation utilities */
  .glass-card {
    background: var(--gradient-card);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid hsl(var(--border));
    transition: var(--transition-smooth);
  }

  .glass-card:hover {
    transform: translateY(-6px) scale(1.02);
    box-shadow: var(--shadow-glow);
    border-color: hsl(var(--primary) / 0.4);
  }

  .icon-bg {
    background-color: hsl(var(--primary) / 0.1);
    transition: transform 0.3s ease;
  }

  .glass-card:hover .icon-bg {
    transform: scale(1.1) rotate(-5deg);
  }

  .glow-bg {
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 800px;
    height: 500px;
    background: radial-gradient(circle, hsl(var(--primary) / 0.15) 0%, transparent 70%);
    pointer-events: none;
    z-index: 0;
    animation: pulse-glow 5s infinite alternate;
  }

  /* Ensure no decorative overlay blocks interactions over tab bars or controls */
  .overlay-safe { pointer-events: none; }

  /* Overlay z-index tokens to avoid magic numbers in components */
  .z-overlay { z-index: 70; }
  .z-overlay-elevated { z-index: 80; }

  @keyframes pulse-glow {
    from { opacity: 0.8; transform: translateX(-50%) scale(1); }
    to { opacity: 1; transform: translateX(-50%) scale(1.05); }
  }

  /* Micro-animation utilities */
  .hover-lift {
    @apply transition-all duration-300 hover:scale-[1.02] hover:shadow-medium;
  }
  
  .hover-glow {
    @apply transition-all duration-300 hover:shadow-glow;
  }
  
  .press-scale {
    @apply active:scale-[0.98] transition-transform duration-150;
  }
  
  /* Blob animations for decorative elements */
  @keyframes blob {
    0% {
      transform: translate(0px, 0px) scale(1);
    }
    33% {
      transform: translate(30px, -50px) scale(1.1);
    }
    66% {
      transform: translate(-20px, 20px) scale(0.9);
    }
    100% {
      transform: translate(0px, 0px) scale(1);
    }
  }
  
  .animate-blob {
    animation: blob 7s infinite;
  }
  
  .animation-delay-2000 {
    animation-delay: 2s;
  }
  
  .animation-delay-4000 {
    animation-delay: 4s;
  }
  
  /* Gradient animation */
  @keyframes gradient-x {
    0%, 100% {
      background-size: 200% 200%;
      background-position: left center;
    }
    50% {
      background-size: 200% 200%;
      background-position: right center;
    }
  }
  
  .animate-gradient-x {
    animation: gradient-x 15s ease infinite;
  }
  
  /* Slow bounce for logo */
  @keyframes bounce-slow {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-10px);
    }
  }
  
  .animate-bounce-slow {
    animation: bounce-slow 3s ease-in-out infinite;
  }
  
  /* Fade in animation */
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .animate-fade-in {
    animation: fade-in 0.6s ease-out;
  }
  
  /* Number pop animation */
  @keyframes number-pop {
    0% {
      transform: scale(0.8);
      opacity: 0;
    }
    50% {
      transform: scale(1.1);
    }
    100% {
      transform: scale(1);
      opacity: 1;
    }
  }
  
  .animate-number-pop {
    animation: number-pop 0.5s ease-out;
  }
  
  /* Bounce in animation */
  @keyframes bounce-in {
    0% {
      transform: scale(0.95);
      opacity: 0.5;
    }
    70% {
      transform: scale(1.02);
      opacity: 1;
    }
    100% {
      transform: scale(1);
      opacity: 1;
    }
  }
  
  .animate-bounce-in {
    animation: bounce-in 0.3s ease-out;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-dyslexia;
    line-height: 1.6;
    letter-spacing: 0.02em;
    overflow-x: hidden;
  }

  /* Dyslexia-friendly text styles */
  h1, h2, h3, h4, h5, h6 {
    font-weight: 600;
    line-height: 1.4;
  }

  p, li {
    line-height: 1.7;
  }


  /* Focus styles for accessibility */
  button:focus-visible,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    outline: 2px solid hsl(var(--ring));
    outline-offset: 2px;
  }
}